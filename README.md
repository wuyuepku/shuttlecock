# shuttlecock
北京大学中华毽体育课打卡系统

## 开发

请参阅[开发文档](./static/docs_evolution.html)（不支持github打开，请下载后打开）

## 部署

本系统为轻量级应用，无需独立的服务器；且由于学生本身流动性质，不方便部署在学生的个人服务器上（虽然早期的）。本项目推荐部署于阿里云的Web应用托管服务上，费用较少且能够根据需求弹性伸缩。在此项部署之前，使用者需要开通阿里云账户，充值100RMB（用于购买按量付费服务，此文档编写时为最低100RMB）

### 1. 购买ECS

观察到阿里云的突发性能实例ECS比较便宜，虽然平均计算性能只有10%上下，但足够此应用使用。以华北3（张家口）的 ecs.t6-c2m1.large 为例，拥有2 vCPU + 1GiB内存 + 10%平均基准CPU计算性能，配以20GB的高效云盘，每月只需17.40元人民币，非常实惠。

镜像可以随意选择，以Ubuntu为例

公网带宽选择按量付费，大幅降低价格，推荐使用20Mbps带宽

选择自定义密码，尽可能高强度

这时候不要安装任何软件，因为之后会清空的。。。

**阿里云目前是分区管理ECS，进行服务开通最好在选择的区内，否则有可能无法使用ECS**

### 2. 开通Web应用托管服务

在控制台开通，请自行浏览相关教程

### 3. 快速部署应用

参考 https://help.aliyun.com/document_detail/118222.html，文档可能会过时，请参考最新的文档

创建应用，选择Python技术栈类型，应用名称和描述自行编写

技术栈要求python3.x版本

从github直接下载此项目（zip包）然后上传为部署包

注意注意！！！一定不要这时候点击创建，因为默认会创建一个ECS。。。

在配置页面，先在网络栏里面选择已经购买的ECS的VPC和交换机，然后在主机实例栏里就能看到之前购买的ECS了，选择它即可。这时候会把之前购买的ECS清空！！！

### 4. 更新项目

在web应用托管的控制台里面，点击部署按钮，上传新的zip即可，系统会自动部署新版本应用

